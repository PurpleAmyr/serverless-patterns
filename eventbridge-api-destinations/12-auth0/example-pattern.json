{
    "title": "EventBridge API Destinations to Auth0",
    "description": "Create an EventBridge rule and API destination to sign up events to Auth0",
    "language": "YAML",
    "level": "100",
    "framework": "cloudformation",
    "services": {
        "from": "eventbridge",
        "to": "eventbridge"
    },
    "introBox": {
        "headline": "How it works",
        "text": [
            "This pattern creates an API Destination for the Auth0 SignUp API. Once deployed, the pattern allows a user to send events easily through EventBridge to Auth0 in order to create users. The pattern creates the following resources: EventBridge Bus, EventBridge Connection, EventBridge API Destination, EventBridge rule, IAM role, and SQS queue.",
            "The EventBridge rule uses the API Destination and Connection as a target, SQS queue as a DLQ, and the IAM role as its role. To send events, go to the bus and send sample events. Enter “MyAuth0App” for the source, the bus created by the pattern for the Event Bus Name, and any call that follows the format for the SignUp API as the detail (https://auth0.com/docs/api/authentication?http#signup).",
            "The following information is needed to use the pattern:",
            "Environment Name: Needed in order to create the API Call",
            "Client ID: Required and will be put within the API Call as a secret ID by the template",
            "Email, Password, Connection type: Will be needed in Request Body",
            "The IAM role created by the pattern only has the permission to allow InvokeApiDestination access to the EventBridge rule."
        ]
    },
    "testing": {
        "headline": "Testing",
        "text": [
            "See the GitHub repo for detailed testing instructions."
        ]
    },
    "cleanup": {
        "headline": "Cleanup",
        "text": [
            "1. Delete the stack from the cloudformation console.",
            "2. Confirm the stack deletion from the AWS console"
        ]
    },
    "deploy": {
        "text": [
            "download the cloudformation template and deploy from the cloud fromation console"
        ]
    },
    "gitHub": {
        "template": {
            "projectFolder": "eventbridge-api-destinations",
            "repoURL": "https://github.com/aws-samples/serverless-patterns/tree/main/eventbridge-api-destinations",
            "templateURL": "serverless-patterns/eventbridge-api-destinations",
            "templateFile": "12-auth0/Auth0ApiDestination.yml"
        }
    },
    "resources": {
        "headline": "Additional resources",
        "bullets": [
            {
                "text": "Auth0 Sign Up API",
                "link": "https://auth0.com/docs/api/authentication?http#signup"
            },
            {
                "text": "Auth0 how to test connections",
                "link": "https://auth0.com/docs/authenticate/identity-providers/test-connections"
            },
            {
                "text": "Auth0 how to view connections",
                "link": "https://auth0.com/docs/authenticate/identity-providers/view-connections"
            }
        ]
    }
}